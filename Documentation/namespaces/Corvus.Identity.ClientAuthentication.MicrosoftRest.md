---
uid: Corvus.Identity.ClientAuthentication.MicrosoftRest
summary: *content
---

Abstractions for obtaining access tokens suitable for use with client libraries that use the [`Microsoft.Rest`](xref:Microsoft.Rest) components, such as old-style Azure SDK components (predating the [redesign that started in 2019](xref:azure-sdk-2019-rewrite)). This does not presume any particular source of tokens. It is designed to work with systems such as Azure Managed Identities, but will work with any system in which a service has some ambient identity of its own.

The [`IServiceIdentityMicrosoftRestTokenProviderSource`](xref:Corvus.Identity.ClientAuthentication.MicrosoftRest.IServiceIdentityMicrosoftRestTokenProviderSource) interface provides a way to obtain an [`ITokenProvider`](xref:Microsoft.Rest.ITokenProvider) that represents the running service's own identity. (E.g., for a service running in Azure in a context that provides a Managed Identity, this provides a way to perform outbound requests through a [`Microsoft.Rest`](xref:Microsoft.Rest)-based client library, authenticating as that Managed Identity.) Implementations of this interface are typically acquired through dependency injection. For example, if you want to use an Azure Managed Identity, you would typically call [`AddServiceIdentityAzureTokenCredentialSourceFromAzureCoreTokenCredential`](xref:Microsoft.Extensions.DependencyInjection.AzureIdentityServiceCollectionExtensions.AddServiceIdentityAzureTokenCredentialSourceFromAzureCoreTokenCredential(Microsoft.Extensions.DependencyInjection.IServiceCollection,Azure.Core.TokenCredential)) or [`AddServiceIdentityAzureTokenCredentialSourceFromLegacyConnectionString`](xref:Microsoft.Extensions.DependencyInjection.AzureIdentityServiceCollectionExtensions.AddServiceIdentityAzureTokenCredentialSourceFromLegacyConnectionString*) extension methods for [`IServiceCollection`](xref:Microsoft.Extensions.DependencyInjection.IServiceCollection) to make a suitable implementation of [`IServiceIdentityAccessTokenSource`](xref:Corvus.Identity.ClientAuthentication.IServiceIdentityAccessTokenSource) available, and also [`AddMicrosoftRestAdapterForServiceIdentityAccessTokenSource`](xref:Microsoft.Extensions.DependencyInjection.MicrosoftRestIdentityServiceCollectionExtensions.AddMicrosoftRestAdapterForServiceIdentityAccessTokenSource*), which provides an implementaion of [`IServiceIdentityMicrosoftRestTokenProviderSource`](xref:Corvus.Identity.ClientAuthentication.MicrosoftRest.IServiceIdentityMicrosoftRestTokenProviderSource) that is an adapter for the underlying [`IServiceIdentityAccessTokenSource`](xref:Corvus.Identity.ClientAuthentication.IServiceIdentityAccessTokenSource).
